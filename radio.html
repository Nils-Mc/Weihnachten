<!DOCTYPE html>
<html lang="de">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>ðŸŽ… Weihnachtsradio</title>
<style>
body{
  margin:0;
  font-family:system-ui,-apple-system,sans-serif;
  overflow:hidden;
  background: linear-gradient(to top,#071e18,#204f43);
  color:white;
}
canvas{
  position:absolute;
  inset:0;
  z-index:1;
}
#radioUI{
  position:absolute;
  top:10px;
  left:50%;
  transform:translateX(-50%);
  z-index:10;
  text-align:center;
}
#radioUI h1{
  margin:0;
  font-size:2rem;
}
</style>
</head>
<body>

<div id="radioUI">
  <h1>ðŸŽ„ Weihnachtsradio lÃ¤uft â€¦</h1>
</div>

<canvas id="canvas" width="800" height="600"></canvas>

<script>
// ðŸ”¹ Schneefall
const canvas=document.getElementById("canvas");
const ctx=canvas.getContext("2d");
canvas.width=window.innerWidth;
canvas.height=window.innerHeight;

let snow=[];
for(let i=0;i<200;i++){
  snow.push({x:Math.random()*canvas.width,y:Math.random()*canvas.height,r:Math.random()*3+1,speed:Math.random()*1+0.5});
}

// Rentier & Baum Animation
let reindeer={x:0,y:canvas.height-80,w:80,h:50};
let tree={x:canvas.width-100,y:canvas.height-200,w:60,h:120,angle:0};
let santa={x:-100,y:100,w:120,h:60};

// ðŸ”¹ Musik
let tracks=["Music/song1.mp3","Music/song2.mp3"];
let current=0;
const audio=new Audio();
audio.src=tracks[current];
audio.volume=0;
audio.play();
audio.addEventListener("ended",nextTrack);

function nextTrack(){
  current=(current+1)%tracks.length;
  audio.src=tracks[current];
  fadeIn(audio,0.05);
  audio.play();
}

function fadeIn(audio,step){
  audio.volume=0;
  let id=setInterval(()=>{
    if(audio.volume<1) audio.volume=Math.min(audio.volume+step,1);
    else clearInterval(id);
  },200);
}

function fadeOut(audio,step,nextFunc){
  let id=setInterval(()=>{
    if(audio.volume>0) audio.volume=Math.max(audio.volume-step,0);
    else{clearInterval(id);nextFunc();}
  },200);
}

// ðŸ”¹ Zeichnen
function draw(){
  ctx.clearRect(0,0,canvas.width,canvas.height);

  // Schnee
  snow.forEach(s=>{
    ctx.beginPath();
    ctx.arc(s.x,s.y,s.r,0,Math.PI*2);
    ctx.fillStyle="white";
    ctx.fill();
    s.y+=s.speed;
    if(s.y>canvas.height) s.y=0;
  });

  // Rentier (rot)
  ctx.fillStyle="red";
  ctx.fillRect(reindeer.x,reindeer.y,reindeer.w,reindeer.h);
  reindeer.x+=2;
  if(reindeer.x>canvas.width) reindeer.x=-reindeer.w;

  // Baum (wackelnd)
  tree.angle=Math.sin(Date.now()/300)*0.1;
  ctx.save();
  ctx.translate(tree.x+tree.w/2,tree.y+tree.h);
  ctx.rotate(tree.angle);
  ctx.fillStyle="green";
  ctx.fillRect(-tree.w/2,-tree.h,tree.w,tree.h);
  ctx.restore();

  // Weihnachtsmann
  ctx.fillStyle="white";
  ctx.fillRect(santa.x,santa.y,santa.w,santa.h);
  santa.x+=3;
  if(santa.x>canvas.width) santa.x=-santa.w;

  requestAnimationFrame(draw);
}

draw();
</script>
</body>
</html>
